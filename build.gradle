task wrapper(type: Wrapper) {
    gradleVersion = '2.1'
}

task fetch(type: Exec) {
    workingDir projectDir
    commandLine 'git submodule foreach git fetch --all'.split(' ')
}

task update(type: Exec, dependsOn: fetch) {
    workingDir projectDir
    commandLine 'git submodule foreach git reset --hard origin/master'.split(' ')
}

task list << {
    ProgressList progressList = new ProgressList(new File('main'))
    new File('list.html').write(progressList.html)
}
